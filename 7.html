<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
</head>

<body>
    <!--     <script>
        console.log("start");
        let intervalId;
        Promise.resolve()
            .then(() => {
                console.log("p1");
            })
            .then(() => {
                console.log("p2");
            });
        setTimeout(() => {
            Promise.resolve()
                .then(() => {
                    console.log("p3");
                })
                .then(() => {
                    console.log("p4");
                });
            intervalId = setInterval(() => {
                console.log("interval");
            }, 3000);
            console.log("timeout1");
        }, 0);
        //start p1 p2  timeout1 p3 p4 interval 
    </script> -->

    <!--     <script>
        setTimeout(() => {
            console.log("a");
        });
        Promise.resolve()
            .then(() => {
                console.log("b");
            })
            .then(() => {
                return Promise.resolve("c").then((data) => {
                    setTimeout(() => {
                        console.log("d");
                    });
                    console.log("f");
                    return data;
                });
            })
            .then((data) => {
                console.log(data);
            });
            //b f c a d
    </script> -->

    <script>
        function func1() {
            console.log("func1 start");
            return new Promise((resolve) => {
                resolve("OK");
            });
        }

        function func2() {
            console.log("func2 start");
            return new Promise((resolve) => {
                setTimeout(() => {
                    resolve("OK");
                }, 10);
            });
        }
        console.log(1);
        setTimeout(async () => {
            console.log(2);
            await func1();
            console.log(3);
        }, 20);
        for (let i = 0; i < 90000000; i++) {} //循环大约要进行80MS左右
        console.log(4);
        func1().then((result) => {
            console.log(5);
        });
        func2().then((result) => {
            console.log(6);
        });
        setTimeout(() => {
            console.log(7);
        }, 0);
        console.log(8);
        //1 4 func1 start 
    </script>
</body>

</html>